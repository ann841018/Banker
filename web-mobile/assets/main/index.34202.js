window.__require=function t(e,n,a){function o(r,l){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var s="function"==typeof __require&&__require;if(!l&&s)return s(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var d=n[r]={exports:{}};e[r][0].call(d.exports,function(t){return o(e[r][1][t]||t)},d,d.exports,t,e,n,a)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<a.length;r++)o(a[r]);return o}({AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"09356VkeuVPlYYAZchDnwXx","AudioManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./PopUp/ErrorCode"),l=cc._decorator,c=l.ccclass,s=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Audio_SE=null,e.Audio_BGSE=null,e.audioArr=[],e}var n;return o(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.onLoad=function(){n.instance=this,this.LoadAudio()},e.prototype.LoadAudio=function(){var t=this;return new Promise(function(){cc.assetManager.loadBundle("Audio",function(e,n){n.loadDir("",cc.AudioClip,function(e,n){e?r.default.getInstance().ErrorInfo(e.message):t.audioArr=n})})})},e.prototype.PlayBGSE=function(t){for(var e=0;e<this.audioArr.length;e++)if(this.audioArr[e].name==t){this.Audio_BGSE.clip=this.audioArr[e],this.Audio_BGSE.play();break}},e.prototype.PlayAudio=function(t){for(var e=0;e<this.audioArr.length;e++)if(this.audioArr[e].name==t){this.Audio_SE.clip=this.audioArr[e],this.Audio_SE.play();break}},i([s(cc.AudioSource)],e.prototype,"Audio_SE",void 0),i([s(cc.AudioSource)],e.prototype,"Audio_BGSE",void 0),n=i([c],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./PopUp/ErrorCode":"ErrorCode"}],Cards:[function(t,e,n){"use strict";cc._RF.push(e,"e5fafZa2G5EN4YSMvL7HvpP","Cards");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./AudioManager"),l=t("./Main"),c=t("./PopUp/ErrorCode"),s=t("./PopUp/KeyBoard"),d=t("./Setting"),u=cc._decorator,h=u.ccclass,f=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SmallCards=[],e.SmallCardIndex=6,e.ChangeCard=!1,e.InputBtn=null,e.InputPanel=null,e}var n;return o(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.start=function(){n.instance=this,this.SmallCards=this.node.getChildByName("Card").children,this.InputBtn=this.node.getChildByName("Input"),this.InputPanel=this.node.parent.getChildByName("InputPanel"),this.BtnEvent()},e.prototype.BtnEvent=function(){var t=this;this.InputBtn.on("click",function(){t.InputCheck(),r.default.getInstance().PlayAudio("Btn_Open"),0==t.ChangeCard&&(t.node.parent.getChildByName("PassWord").active=!0,s.default.State="Card",t.ChangeCard=!0),6!=n.getInstance().SmallCardIndex&&1==t.ChangeCard&&(t.InputPanel.active=!0)})},e.prototype.InputCheck=function(){for(var t=0;t<6;t++){if(this.SmallCards[t].getComponent(cc.Toggle).isChecked)return void(n.getInstance().SmallCardIndex=t);5==t&&(n.getInstance().SmallCardIndex=6)}},e.prototype.LoadCard=function(t,e){var n=this;return new Promise(function(){cc.assetManager.loadBundle("Art/Cards",function(a,o){o.load(e,cc.SpriteFrame,function(e,a){e?(c.default.getInstance().ErrorInfo("\u7121\u6cd5\u8fa8\u8b58\u6b64QR code"),l.default.getInstance().CanShow[t]=!1,d.default.getInstance().ShowBtn.active=!1):n.SmallCards[t].getComponent(cc.Sprite).spriteFrame=a})})})},e.CardsArr=[],n=i([h],e)}(cc.Component));n.default=f,cc._RF.pop()},{"./AudioManager":"AudioManager","./Main":"Main","./PopUp/ErrorCode":"ErrorCode","./PopUp/KeyBoard":"KeyBoard","./Setting":"Setting"}],Channel:[function(t,e,n){"use strict";cc._RF.push(e,"c91f1+lEvxDpYo/h1KlqoaC","Channel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,l=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Text=null,e.Info=null,e.NewStr="",e.TemIndex=0,e}var n;return o(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.start=function(){n.instance=this,this.Info=this.node.getChildByName("Info"),this.Text=this.Info.getChildByName("Text"),this.rewardInfo={player_id:0,player_nickname:"",dealer_id:0,dealer_nickname:"",amount:0,count:0,product_name:"",reply_msg:""}},e.prototype.GetNewMessage=function(t){this.rewardInfo=t;var e=this.rewardInfo.player_nickname+"\u6253\u8cde\u4e86"+this.rewardInfo.count+this.rewardInfo.product_name+"\u7d66"+this.rewardInfo.dealer_nickname;this.NewText(e)},e.prototype.NewText=function(t){var e=cc.instantiate(this.Text);e.color=cc.color(255,255,255),e.getComponent(cc.Label).string=t,this.Info.addChild(e),this.TemIndex=this.TemIndex-1,e.zIndex=this.TemIndex-1,this.Info.childrenCount>10&&this.Info.children[5].destroy()},n=i([l],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],ChoseTable:[function(t,e,n){"use strict";cc._RF.push(e,"21f68dgC/pLXqKVF55d3dNH","ChoseTable");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Core/Client"),l=t("../Info"),c=t("../Lib/GlobalDef"),s=t("../Main"),d=t("../Setting"),u=t("./ErrorCode"),h=cc._decorator,f=h.ccclass,p=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TablePrefab=null,e.TableInfo=[],e.TableArr=[],e.Content=null,e.LogOutBtn=null,e}var n;return o(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.onLoad=function(){n.instance=this},e.prototype.start=function(){this.Content=this.node.getChildByName("Table").getChildByName("Content"),this.LogOutBtn=this.node.getChildByName("LogOut"),this.TableInfo=[{id:"",open:!1}],this.node.opacity=255,this.LogOutBtn.on("click",function(){parent.postMessage("logout","*")})},e.prototype.GetAllTable=function(t){var e=this;this.TableInfo=t;for(var n=0;n<t.length;n++){var a=cc.instantiate(this.TablePrefab);a.name=t[n].id.toString(),this.Content.addChild(a),this.TableArr[n]=a,this.TableArr[n].on("click",function(){e.EnterTable()})}this.ResetTable()},e.prototype.ResetTable=function(){for(var t=0;t<this.TableArr.length;t++)this.TableArr[t].getChildByName("No").active=!this.TableInfo[t].open,this.TableArr[t].getChildByName("Num").getComponent(cc.Label).string=this.TableInfo[t].id},e.prototype.EnterTable=function(){var t=this;this.node.parent.getChildByName("Right").getChildByName("Channel").getChildByName("Info").getChildByName("Text").getComponent(cc.Label).string="\u5df2\u9032\u5165\u684c\u865f : "+c.default.TableNumber,d.default.TableID={room_id:c.default.TableNumber},r.default.getInstance().send("livebaijiale","baijiadealer.ApplyDealer",d.default.TableID,function(e,n){n?u.default.getInstance().ErrorInfo(n,!1,!0):(c.default.GameNumber=e.ju_count,c.default.DeckNumber=e.paixuehao,c.default.VipRoom=e.type,1==c.default.VipRoom&&(t.node.getChildByName("FakeStop").active=!0,t.node.getChildByName("TimeLeft").active=!1),l.default.getInstance().Show(),t.Reset(),t.node.active=!1)})},e.prototype.Reset=function(){s.default.CanReset=!0,s.default.getInstance().Clear();var t=this.node.parent.getChildByName("Right").getChildByName("Open");s.default.getInstance().TVBtn.active=!0,t.parent.getChildByName("Clear").active=!1,t.parent.getChildByName("Start").active=!1,t.active=!0},i([p(cc.Prefab)],e.prototype,"TablePrefab",void 0),n=i([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../Core/Client":"Client","../Info":"Info","../Lib/GlobalDef":"GlobalDef","../Main":"Main","../Setting":"Setting","./ErrorCode":"ErrorCode"}],Client:[function(t,e,n){"use strict";cc._RF.push(e,"5c30d75+p5OPY4UIVHZvvAQ","Client"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Lib/GlobalDef"),o=t("./ConnectManager"),i=function(){function e(){this.cbs=[],this.cacheSplit={},this.cbIdx=1,this.myinfo={id:0,token:""}}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.pushCb=function(t){return this.cbs[this.cbIdx++]=t,this.cbIdx-1},e.prototype.peekCb=function(t){var e=this.cbs[t];return delete this.cbs[t],e},e.prototype.login=function(){var t=window.document.URL.split("banker_token=")[1];t=t.split("?ignore=")[0],a.default.token=t.split("&token=")[1],a.default.TableNumber=parseInt(a.default.token.split("&room_id=")[1]),a.default.token=a.default.token.split("&room_id=")[0],t=t.split("&token=")[0],this.myinfo.id=parseInt(t.split("&id=")[1]),this.myinfo.token=t.split("&id=")[0],a.default.tokenBanker=this.myinfo.token,this.realConnect()},e.prototype.realConnect=function(){this.createWS(a.default.loginServerWS+"/login?id="+this.myinfo.id+"&token="+this.myinfo.token)},e.prototype.onMessage=function(e){if(e.cbId)(a=this.peekCb(e.cbId))(e.args,e.err);else if(e.route){var n=this.cacheSplit[e.route];n||(n=e.route.split("."),this.cacheSplit[e.route]=n),console.assert(2==n.length);var a,o=t(n[0]);if(o.prototype.runnable&&!o.prototype.runnable())return;if(!(a=o.prototype[n[1]]))return;a(e.args,e.err)}},e.prototype.createWS=function(t){var e=this;this._socket&&(this._socket.close(),console.log("close old socket")),this.cbs=[];var n=new WebSocket(t);this._socket=n,n.binaryType="arraybuffer",n.onopen=function(){o.default.getInstance().logined=!0,o.default.getInstance().reset(!0),e._socket},n.onmessage=function(t){if(n==e._socket){var a=JSON.parse(t.data);o.default.getInstance().elapsed=0,"MsgHandlers.ping"!=a.route&&console.log("\u3010\u7db2\u8def-\u63a5\u6536\u3011: "+t.data);try{e.onMessage(a)}catch(i){console.log(i)}}},n.onclose=function(){n==e._socket&&(o.default.getInstance().logined=!1,o.default.getInstance().reset(!1),e._socket=null)}},e.prototype.send=function(t,e,n,a){if(null==this._socket)return!1;if(1!=this._socket.readyState)return!1;var o={};o.svr=t,o.route=e,o.args=n,o.cbId=a?this.pushCb(a):void 0;var i=JSON.stringify(o);return"pong"!=e&&console.log("\u3010\u7db2\u8def-\u8acb\u6c42\u3011: ",i),this._socket.send(i),!0},e.prototype.close=function(){this._socket&&this._socket.close(),this._socket=null},e}();n.default=i,cc._RF.pop()},{"../Lib/GlobalDef":"GlobalDef","./ConnectManager":"ConnectManager"}],ConnectManager:[function(t,e,n){"use strict";cc._RF.push(e,"93454tMrftMZ4mT2Y0O8eMI","ConnectManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../PopUp/ErrorCode"),l=t("./Client"),c=cc._decorator,s=c.ccclass,d=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logined=!1,e.connected=!1,e.tries=0,e.elapsed=0,e}var n;return o(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.onLoad=function(){n.instance=this},e.prototype.update=function(t){this.logined&&(this.elapsed+=t,this.elapsed<3.5||(this.elapsed=0,this.connected=!1,this.tries<10?(this.tries++,l.default.getInstance().login()):r.default.getInstance().ErrorInfo("\u7db2\u8def\u9023\u63a5\u932f\u8aa4",!0,!1)))},e.prototype.reset=function(t){this.elapsed=0,this.tries=0,this.logined=t,this.connected=t},n=i([s],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../PopUp/ErrorCode":"ErrorCode","./Client":"Client"}],Count:[function(t,e,n){"use strict";cc._RF.push(e,"1ba01A8knxAbYBfWAGujBoQ","Count");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./AudioManager"),l=t("./Cards"),c=t("./Core/Client"),s=t("./Main"),d=t("./PopUp/ErrorCode"),u=t("./Setting"),h=cc._decorator,f=h.ccclass,p=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CardScan=null,e.BankerPoint=0,e.PlayerPoint=0,e.TopBanker=null,e.TopPlayer=null,e.TopTie=null,e.TopBPair=null,e.TopPPair=null,e.TopLucky=null,e.PlayerSeat=[],e.PlayerSeatBtn=[],e.PlayerID=[0,0,0,0,0,0],e.BottomBanker=null,e.BottomPlayer=null,e.CheckBtn=null,e.ShowBtn=null,e.BottomBtn=null,e.isShow=!1,e.plusStr="",e.isFinish=!1,e.SendCard=4,e.IsNormal=!1,e.IsResult=!1,e}var n;return o(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.start=function(){var t=this;n.instance=this;var e=this.node.parent.getChildByName("Middle").getChildByName("Light");this.CheckBtn=this.node.parent.getChildByName("Middle").getChildByName("Check"),this.ShowBtn=this.node.parent.getChildByName("Middle").getChildByName("Show"),this.BottomBtn=this.node.parent.getChildByName("Middle").getChildByName("Bottom"),this.PlayerSeat=this.node.getChildByName("Seat").children,this.TopBanker=e.getChildByName("Banker"),this.TopPlayer=e.getChildByName("Player"),this.TopTie=e.getChildByName("Tie"),this.TopBPair=e.getChildByName("BankerPair"),this.TopPPair=e.getChildByName("PlayerPair"),this.TopLucky=e.getChildByName("Lucky"),this.BottomBanker=this.BottomBtn.getChildByName("Banker"),this.BottomPlayer=this.BottomBtn.getChildByName("Player");for(var a=function(e){o.PlayerSeat[e].getChildByName("ClearBtn").on("click",function(){var n={player_id:0};n.player_id=t.PlayerID[e],c.default.getInstance().send("livebaijiale","baijiadealer.KickOutSeat",n,function(){t.ResetSeat(e,!1)})})},o=this,i=0;i<6;i++)a(i);this.CheckBtn.on("click",function(){t.IsNormal=!0,t.Check()}),this.ShowBtn.on("click",function(){t.IsNormal=!0,t.Show()}),this.CardScan={zhuang_cards:[{color:0,point:0},{color:0,point:0}],xian_cards:[{color:0,point:0},{color:0,point:0}]},this.ShowPoint()},e.prototype.ResetSeat=function(t,e){void 0===e&&(e=!0),0==e&&(this.PlayerSeat[t].active=!1,this.PlayerSeat[t].getChildByName("ID").getComponent(cc.Label).string="",this.PlayerSeat[t].getChildByName("Money").getComponent(cc.Label).string=""),this.PlayerSeat[t].getChildByName("BetPlayer").getChildByName("BetMoney").getComponent(cc.Label).string="",this.PlayerSeat[t].getChildByName("BetBanker").getChildByName("BetMoney").getComponent(cc.Label).string="",this.PlayerSeat[t].getChildByName("BetPlayer").active=!1,this.PlayerSeat[t].getChildByName("BetBanker").active=!1,this.PlayerSeat[t].getChildByName("BetPlayerBtn").active=!1,this.PlayerSeat[t].getChildByName("BetBankerBtn").active=!1},e.prototype.Check=function(){for(var t=l.default.CardsArr.length,e=0;e<=t-1;e++)l.default.getInstance().LoadCard(e,l.default.CardsArr[e]);for(var n=4;n>t;n--)l.default.getInstance().LoadCard(n-1,"00"),l.default.getInstance().SmallCards[n-1].active=!0;4==t&&(l.default.getInstance().SmallCards[4].active=!1,l.default.getInstance().SmallCards[5].active=!1),1==this.temPlayer&&(l.default.getInstance().SmallCards[4].active=!0,l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).enabled=!0),2==this.temPlayer&&(l.default.getInstance().SmallCards[5].active=!0,l.default.getInstance().SmallCards[5].getComponent(cc.Toggle).enabled=!0),3==this.temPlayer&&(l.default.getInstance().SmallCards[4].active=!0,l.default.getInstance().SmallCards[5].active=!0,l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).enabled=!0,l.default.getInstance().SmallCards[5].getComponent(cc.Toggle).enabled=!0),this.CheckBtn.active=!1,0==this.isShow?1==s.default.getInstance().CanShow[0]&&1==s.default.getInstance().CanShow[1]&&1==s.default.getInstance().CanShow[2]&&1==s.default.getInstance().CanShow[3]&&(u.default.getInstance().ShowBtn.active=!0):1==s.default.getInstance().CanShow[4]&&1==s.default.getInstance().CanShow[5]&&(u.default.getInstance().ShowBtn.active=!0),s.default.getInstance().InputPanel.active=!1,s.default.getInstance().InputPanel.parent.getChildByName("FakeInput").active=!0,this.node.parent.getChildByName("Middle").getChildByName("Input").active=!0,this.plusStr=""},e.prototype.Show=function(){var t=this;r.default.getInstance().PlayAudio("Btn_Click");var e=4;this.ShowPoint(),this.ShowBtn.active=!1,this.ShowBtn.parent.getChildByName("Input").active=!1,s.default.getInstance().InputPanel.active=!0,s.default.getInstance().InputPanel.parent.getChildByName("FakeInput").active=!1;for(var n=[],a=[],o=0;o<l.default.CardsArr.length;o++)n[o]=l.default.CardsArr[o].slice(0,1),a[o]=l.default.CardsArr[o].slice(1,2),"S"==n[o]&&(n[o]=1),"H"==n[o]&&(n[o]=2),"D"==n[o]&&(n[o]=3),"C"==n[o]&&(n[o]=4),"A"==a[o]&&(a[o]=10),"B"==a[o]&&(a[o]=11),"C"==a[o]&&(a[o]=12),"D"==a[o]&&(a[o]=13),a[o]=parseInt(a[o]);if(0==this.isShow)for(this.CardScan.xian_cards[0].color=n[0],this.CardScan.xian_cards[0].point=a[0],this.CardScan.zhuang_cards[0].color=n[1],this.CardScan.zhuang_cards[0].point=a[1],this.CardScan.xian_cards[1].color=n[2],this.CardScan.xian_cards[1].point=a[2],this.CardScan.zhuang_cards[1].color=n[3],this.CardScan.zhuang_cards[1].point=a[3],this.isShow=!0,l.default.CardsArr.length=4,o=0;o<4;o++)l.default.getInstance().SmallCards[o].getComponent(cc.Toggle).isChecked=!1,l.default.getInstance().SmallCards[o].getComponent(cc.Toggle).enabled=!1,l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).enabled=!0,l.default.getInstance().LoadCard(4,"00"),l.default.getInstance().LoadCard(5,"00");else this.SendCard=this.SendCard+1,e=this.SendCard,1==this.temPlayer&&(this.CardScan.xian_cards[0].color=n[4],this.CardScan.xian_cards[0].point=a[4],l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).enabled=!0),2==this.temPlayer&&(this.CardScan.zhuang_cards[0].color=n[5],this.CardScan.zhuang_cards[0].point=a[5],l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).isChecked=!1,l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).enabled=!1,l.default.getInstance().SmallCards[5].getComponent(cc.Toggle).enabled=!0),3==this.temPlayer&&(this.CardScan.xian_cards[0].color=n[4],this.CardScan.xian_cards[0].point=a[4],this.CardScan.zhuang_cards[0].color=n[5],this.CardScan.zhuang_cards[0].point=a[5],l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).enabled=!0,l.default.getInstance().SmallCards[5].getComponent(cc.Toggle).enabled=!0),this.CardScan.xian_cards[1].color=0,this.CardScan.xian_cards[1].point=0,this.CardScan.zhuang_cards[1].color=0,this.CardScan.zhuang_cards[1].point=0,u.default.getInstance().Message=this.plusStr;if(1==this.IsNormal)c.default.getInstance().send("livebaijiale","baijiadealer.ScanCard",this.CardScan,function(n,a){if(a){if("\u903c\u903c\uff01 \u73fe\u5728\u72c0\u614b\u662f \u62bc\u6ce8 \u4e0d\u80fd\u6383\u724c\u548c\u63db\u724c"==a?d.default.getInstance().ErrorInfo(a):(d.default.getInstance().ErrorInfo("\u7570\u5e38\u7684\u6383\u724c\uff0c\u8acb\u66f4\u6539\u7f6e\u5165\u932f\u8aa4\u724c\u7684\u724c\u9762"),l.default.getInstance().node.getChildByName("FakeShow").getChildByName("Text").getComponent(cc.Label).string="\u905e\u4ea4"),t.CardScan={zhuang_cards:[{color:0,point:0},{color:0,point:0}],xian_cards:[{color:0,point:0},{color:0,point:0}]},s.default.getInstance().InputPanel.active=!0,a.includes("\u7570\u5e38\u7684\u6383\u724c, \u4f60\u61c9\u8a72\u50b3 1 \u5f35\u838a 1 \u5f35\u9592"))t.SendCard=4,l.default.CardsArr.length=4,s.default.getInstance().CanShow[4]=!1,s.default.getInstance().CanShow[5]=!1,l.default.getInstance().LoadCard(4,"00"),l.default.getInstance().LoadCard(5,"00"),l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).enabled=!0,l.default.getInstance().SmallCards[5].getComponent(cc.Toggle).enabled=!0,t.plusStr="\u88dc\u5169\u5f35\uff0c\u8acb\u6309\u4e0b\u6383\u63cf",t.temPlayer=3;else if(a.includes("\u9592"))t.SendCard=4,l.default.CardsArr.length=4,t.temPlayer=1,s.default.getInstance().CanShow[4]=!1,s.default.getInstance().CanShow[5]=!0,l.default.getInstance().LoadCard(4,"00"),l.default.getInstance().LoadCard(5,"00"),t.plusStr="\u9591\u5bb6\u88dc\u4e00\u5f35\uff0c\u8acb\u6309\u4e0b\u6383\u63cf";else if(a.includes("\u838a"))t.temPlayer=2,s.default.getInstance().CanShow[4]=!0,s.default.getInstance().CanShow[5]=!1,l.default.getInstance().LoadCard(5,"00"),t.plusStr="\u5e84\u5bb6\u88dc\u4e00\u5f35\uff0c\u8acb\u6309\u4e0b\u6383\u63cf";else{t.isShow=!1,l.default.CardsArr=[];for(var o=0;o<6;o++){l.default.getInstance().LoadCard(o,"00");for(var i=0;i<4;i++)l.default.getInstance().SmallCards[i].getComponent(cc.Toggle).isChecked=!1,l.default.getInstance().SmallCards[i].getComponent(cc.Toggle).enabled=!0,l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).enabled=!1,l.default.getInstance().SmallCards[5].getComponent(cc.Toggle).enabled=!1}}u.default.getInstance().Message=t.plusStr}else t.CardScan.xian_cards[0].color=0,t.CardScan.xian_cards[0].point=0,t.CardScan.zhuang_cards[0].color=0,t.CardScan.zhuang_cards[0].point=0,t.PlayerPoint=n.xian_total,t.BankerPoint=n.zhuang_total,t.ShowPoint(),"\u838a\u88dc"==n.bu_pai_name&&(t.plusStr="\u5e84\u5bb6\u88dc\u4e00\u5f35\uff0c\u8acb\u6309\u4e0b\u6383\u63cf",t.temPlayer=2,s.default.getInstance().CanShow[4]=!0,s.default.getInstance().CanShow[5]=!1),"\u9592\u88dc"==n.bu_pai_name&&(t.plusStr="\u9591\u5bb6\u88dc\u4e00\u5f35\uff0c\u8acb\u6309\u4e0b\u6383\u63cf",t.temPlayer=1,s.default.getInstance().CanShow[4]=!1,s.default.getInstance().CanShow[5]=!0),"\u88dc\u9592\u88dc\u838a"==n.bu_pai_name&&(t.plusStr="\u88dc\u5169\u5f35\uff0c\u8acb\u6309\u4e0b\u6383\u63cf",t.temPlayer=3,s.default.getInstance().CanShow[4]=!1,s.default.getInstance().CanShow[5]=!1,l.default.getInstance().SmallCards[5].getComponent(cc.Toggle).enabled=!0),4==e&&"\u838a\u88dc"==n.bu_pai_name&&(l.default.CardsArr[4]="00",t.SendCard=5,t.temPlayer=2),"\u4e0d\u88dc"==n.bu_pai_name&&(t.BottomResult(),s.default.getInstance().InputPanel.active=!1,s.default.getInstance().InputPanel.parent.getChildByName("FakeInput").active=!0,setTimeout(function(){c.default.getInstance().send("livebaijiale","baijiadealer.NextStage",u.default.TableID,function(e,n){t.IsResult=!0,n?"\u592a\u983b\u7e41\u7684\u8acb\u6c42"==n?t.ReSend():d.default.getInstance().ErrorInfo(n):t.Result()})},1e3)),u.default.getInstance().Message=t.plusStr});else{for(o=0;o<4;o++)l.default.getInstance().SmallCards[o].getComponent(cc.Toggle).isChecked=!1,l.default.getInstance().SmallCards[o].getComponent(cc.Toggle).enabled=!1,s.default.getInstance().CanShow[o]=!0;this.SendCard>l.default.CardsArr.length&&(this.SendCard=l.default.CardsArr.length),4==this.SendCard&&6==e&&(l.default.CardsArr[4]="00",l.default.CardsArr.length=5,l.default.getInstance().LoadCard(4,"00"),e=5,this.temPlayer=2),l.default.getInstance().SmallCards[this.SendCard].getComponent(cc.Toggle).enabled=!0}},e.prototype.ShowPoint=function(){this.BottomPlayer.getComponent(cc.Label).string=this.PlayerPoint.toString(),this.BottomBanker.getComponent(cc.Label).string=this.BankerPoint.toString()},e.prototype.BottomResult=function(){this.BottomBtn.width=1e3,this.BottomBtn.height=80,this.PlayerPoint>this.BankerPoint?this.WinNum=1:this.PlayerPoint<this.BankerPoint?this.WinNum=0:this.PlayerPoint==this.BankerPoint&&(this.WinNum=2)},e.prototype.Result=function(){var t=this;this.IsResult=!1,r.default.getInstance().PlayAudio("Btn_Click"),this.isFinish=!0,this.SendCard=4,this.BottomBtn.width=0,this.BottomBtn.height=0,1==this.WinNum?this.plusStr="\u9591\u5bb6 \u52dd":0==this.WinNum?this.plusStr="\u5e84\u5bb6 \u52dd":2==this.WinNum&&(this.plusStr="\u548c\u5c40"),s.default.CanReset=!0,cc.find("Right").getChildByName("Clear").getComponentInChildren(cc.Label).string="\u65b0\u5c40",c.default.getInstance().send("livebaijiale","baijiadealer.NextStage",u.default.TableID,function(e,n){n&&("\u592a\u983b\u7e41\u7684\u8acb\u6c42"==n?t.ReSend():d.default.getInstance().ErrorInfo(n))}),s.default.getInstance().testBtn.active=!0,s.default.getInstance().newCard.active=!0,u.default.getInstance().Message=this.plusStr},e.prototype.Reset=function(){for(var t=this.node.parent.getChildByName("Middle").getChildByName("Light"),e=0;e<6;e++)t.children[e].active=!1,cc.find("Middle").getChildByName("Top").children[e].getChildByName("Bet").getComponent(cc.Label).string="0";this.CardScan={zhuang_cards:[{color:0,point:0},{color:0,point:0}],xian_cards:[{color:0,point:0},{color:0,point:0}]},this.isShow=!1,this.PlayerPoint=0,this.BankerPoint=0,this.BottomBtn.width=0,this.BottomBtn.height=0,this.CheckBtn.active=!1,this.ShowBtn.active=!1,this.ShowBtn.parent.getChildByName("Input").active=!1,this.ShowBtn.parent.getChildByName("FakeInput").active=!0,this.ShowBtn.parent.getChildByName("FakeShow").active=!0,this.ShowPoint()},e.prototype.ResultLight=function(t){this.TopPPair.active=t[0],this.TopBPair.active=t[1],this.TopPlayer.active=t[2],this.TopBanker.active=t[3],this.TopTie.active=t[4],this.TopLucky.active=t[5]},e.prototype.ReSend=function(){var t=this;setTimeout(function(){c.default.getInstance().send("livebaijiale","baijiadealer.NextStage",u.default.TableID,function(e,n){n?"\u592a\u983b\u7e41\u7684\u8acb\u6c42"==n?t.ReSend():d.default.getInstance().ErrorInfo(n):1==t.IsResult&&t.Result()})},1e3)},n=i([f],e)}(cc.Component));n.default=p,cc._RF.pop()},{"./AudioManager":"AudioManager","./Cards":"Cards","./Core/Client":"Client","./Main":"Main","./PopUp/ErrorCode":"ErrorCode","./Setting":"Setting"}],ErrorCode:[function(t,e,n){"use strict";cc._RF.push(e,"b3233v94XlCVY8SMtp/Iys5","ErrorCode");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("..//AudioManager"),l=t("../Setting"),c=cc._decorator,s=c.ccclass,d=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return o(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.onLoad=function(){n.instance=this,this.ErrorText=this.node.getChildByName("Panel").getChildByName("ErrorText").getComponent(cc.Label),this.ConfirmBtn=this.node.getChildByName("Confirm"),this.node.active=!1,this.node.opacity=255,this.BtnEvent()},e.prototype.ErrorInfo=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.node.active=!0,"\u5c0f\u59d0\u8acb\u5148\u5165\u684c"==t?n=!0:"\u4f60\u4e0d\u5728\u623f\u9593\u88e1"==t&&(n=!0),this.toLogin=e,this.toLobby=n,this.ErrorText.string=t},e.prototype.BtnEvent=function(){var t=this;this.ConfirmBtn.on("click",function(){r.default.getInstance().PlayAudio("Btn_Click"),1==t.toLogin?parent.postMessage("logout","*"):1==t.toLobby&&l.default.getInstance().Jump("lobby_banker",function(t){l.default.postURL={state:"lobby_banker",url:t.data.url},parent.postMessage(l.default.postURL,"*")}),t.node.active=!1})},n=i([s],e)}(cc.Component));n.default=d,cc._RF.pop()},{"..//AudioManager":"AudioManager","../Setting":"Setting"}],GlobalDef:[function(t,e,n){"use strict";cc._RF.push(e,"2228f50g9pIxojfbnUWcafK","GlobalDef");var a=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=(o.property,function(){function t(){}return t.loginServer=window.LS_IP,t.loginServerWS=window.WS_IP,t.TVIP=window.TV_IP,t.DebugMode=window.DebugMode,t.gameVer=window.gameVer,t.token="",t.tokenBanker="",t.GameType="\u767e\u5bb6\u6a02",t.TableNumber=0,t.GameNumber=0,t.DeckNumber=0,t.MixNumber="",a([i],t)}());n.default=r,cc._RF.pop()},{}],Info:[function(t,e,n){"use strict";cc._RF.push(e,"dea97eOr8VDN4rm3hNHr3uO","Info");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Lib/GlobalDef"),l=cc._decorator,c=l.ccclass,s=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Version=null,e.Time=null,e.BankerID=null,e.Table=null,e.GameNumber=null,e.DeckNumber=null,e}var n;return o(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.start=function(){n.instance=this,this.Version=this.node.getChildByName("Version"),this.Time=this.node.getChildByName("Time"),this.BankerID=this.node.getChildByName("Banker"),this.Table=this.node.getChildByName("Table"),this.GameNumber=this.node.getChildByName("Number"),this.DeckNumber=this.node.getChildByName("Deck"),this.GetTime()},e.prototype.Show=function(){this.Version.getComponent(cc.Label).string="v"+r.default.gameVer,this.BankerID.getComponent(cc.Label).string=r.default.Nickname,this.Table.getComponent(cc.Label).string=r.default.GameType+" \u684c\u865f "+r.default.TableNumber,this.GameNumber.getComponent(cc.Label).string="\u5c40\u865f "+r.default.GameNumber,this.DeckNumber.getComponent(cc.Label).string="\u9774\u865f "+r.default.DeckNumber},e.prototype.GetTime=function(){var t=this,e=new Date,n=e.getHours(),a=e.getMinutes(),o=e.getSeconds();n<10&&(n="0"+n),a<10&&(a="0"+a),o<10&&(o="0"+o),this.Time.getComponent(cc.Label).string=e.toLocaleDateString()+" "+n+":"+a+":"+o,setTimeout(function(){t.GetTime()},1e3)},n=i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{"./Lib/GlobalDef":"GlobalDef"}],InputCard:[function(t,e,n){"use strict";cc._RF.push(e,"f7cdatVToBD/6/wccmHhofp","InputCard");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("..//Cards"),l=t("..//Count"),c=t("../AudioManager"),s=t("../Main"),d=t("../Setting"),u=t("./ErrorCode"),h=t("./KeyBoard"),f=cc._decorator,p=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ColorToggle=[],e.NumberToggle=[],e.ConfirmBtn=null,e.CloseBtn=null,e.TemCard=null,e}var n;return o(e,t),n=e,e.prototype.start=function(){this.ColorToggle=this.node.getChildByName("Color").children,this.NumberToggle=this.node.getChildByName("Number").children,this.TemCard=this.node.getChildByName("Card"),this.ConfirmBtn=this.node.getChildByName("Confirm"),this.CloseBtn=this.node.getChildByName("Close"),this.BtnEvent()},e.prototype.BtnEvent=function(){for(var t=this,e="S",a=1,o=function(o){i.ColorToggle[o].on("toggle",function(){0==o&&(e="S"),1==o&&(e="H"),2==o&&(e="D"),3==o&&(e="C"),c.default.getInstance().PlayAudio("Btn_Input"),n.CardCode=0!=a?e.toString()+a.toString():"00",t.LoadCard(n.CardCode)})},i=this,r=0;r<4;r++)o(r);var l=function(o){s.NumberToggle[o].on("toggle",function(){10==(a=o+1)&&(a="A"),11==a&&(a="B"),12==a&&(a="C"),13==a&&(a="D"),14==a&&(a=0),c.default.getInstance().PlayAudio("Btn_Input"),n.CardCode=0!=a?e.toString()+a.toString():"00",t.LoadCard(n.CardCode)})},s=this;for(r=0;r<14;r++)l(r);this.ConfirmBtn.on("click",function(){t.ConFirm()}),this.CloseBtn.on("click",function(){c.default.getInstance().PlayAudio("Btn_Input"),t.node.active=!1})},e.prototype.ConFirm=function(){c.default.getInstance().PlayAudio("Btn_Click"),0==r.default.getInstance().ChangeCard&&(this.node.parent.getChildByName("PassWord").active=!0),h.default.State="Card",this.node.active=!1,"Card"==h.default.State&&n.CheckConfirm()},e.CheckConfirm=function(){r.default.CardsArr[r.default.getInstance().SmallCardIndex]=this.CardCode,r.default.getInstance().LoadCard(r.default.getInstance().SmallCardIndex,this.CardCode),s.default.getInstance().CanShow[r.default.getInstance().SmallCardIndex]=!0,0==l.default.getInstance().isShow?1==s.default.getInstance().CanShow[0]&&1==s.default.getInstance().CanShow[1]&&1==s.default.getInstance().CanShow[2]&&1==s.default.getInstance().CanShow[3]&&(d.default.getInstance().ShowBtn.active=!0):1==s.default.getInstance().CanShow[4]&&1==s.default.getInstance().CanShow[5]&&(d.default.getInstance().ShowBtn.active=!0)},e.prototype.LoadCard=function(t){var e=this;return new Promise(function(){cc.assetManager.loadBundle("Art/Cards",function(n,a){a.load(t,cc.SpriteFrame,function(t,n){t?u.default.getInstance().ErrorInfo("\u7121\u6cd5\u8fa8\u8b58\u6b64\u5361"):e.TemCard.getComponent(cc.Sprite).spriteFrame=n})})})},e.CardCode="S1",n=i([p],e)}(cc.Component));n.default=g,cc._RF.pop()},{"..//Cards":"Cards","..//Count":"Count","../AudioManager":"AudioManager","../Main":"Main","../Setting":"Setting","./ErrorCode":"ErrorCode","./KeyBoard":"KeyBoard"}],KeyBoard:[function(t,e,n){"use strict";cc._RF.push(e,"eb8519QaUtPephIvaZ60gMl","KeyBoard");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("..//Main"),l=t("..//Setting"),c=t("./ErrorCode"),s=t("../AudioManager"),d=t("../Core/Client"),u=t("../Cards"),h=t("../Lib/GlobalDef"),f=cc._decorator,p=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.KeyBoardBtn=[],e.ConfirmBtn=null,e.CancelBtn=null,e.EditBox=null,e.KeyBoard=null,e.inputStr="",e}var n;return o(e,t),n=e,e.prototype.start=function(){this.KeyBoard=this.node.getChildByName("KeyBoard"),this.ConfirmBtn=this.node.getChildByName("Confirm"),this.CancelBtn=this.node.getChildByName("Cancel"),this.EditBox=this.node.getChildByName("Input"),this.EditBox.getComponent(cc.EditBox).enabled=!1,this.password={password:"",memo:""};for(var t=0;t<this.KeyBoard.childrenCount;t++)"Empty"!=this.KeyBoard.children[t].name&&this.KeyBoardBtn.push(this.KeyBoard.children[t]);this.BtnEvent()},e.prototype.BtnEvent=function(){for(var t=this,e=function(e){n.KeyBoardBtn[e].on("click",function(){s.default.getInstance().PlayAudio("Btn_Input"),"backspace"==t.KeyBoardBtn[e].name?t.BackSpace():t.ChangeText(t.KeyBoardBtn[e].name)})},n=this,a=0;a<this.KeyBoardBtn.length;a++)e(a);this.ConfirmBtn.on("click",function(){t.Confirm()}),this.CancelBtn.on("click",function(){t.Cancel()})},e.prototype.BackSpace=function(){""!=this.inputStr&&(this.inputStr=this.inputStr.substr(0,this.inputStr.length-1)),this.EditBox.getComponent(cc.EditBox).string=this.inputStr,this.EditBox.getChildByName("TEXT_LABEL").getComponent(cc.Label).string},e.prototype.ChangeText=function(t){this.inputStr=this.inputStr+t,this.EditBox.getComponent(cc.EditBox).string=this.inputStr},e.prototype.Confirm=function(){var t=this;s.default.getInstance().PlayAudio("Btn_Click"),this.password.password=this.inputStr,"Card"==n.State&&(this.password.memo="\u6539\u724c"),"Clear"==n.State&&(this.password.memo="\u68c4\u5c40"),d.default.getInstance().send("livebaijiale","baijiadealer.AuthKey",this.password,function(e,a){a?c.default.getInstance().ErrorInfo(a):"ok"==e&&(t.node.parent.active=!1,n.State,"Clear"==n.State&&(r.default.CanReset=!0,d.default.getInstance().send("livebaijiale","baijiadealer.Reset",l.default.TableID,function(t,e){e&&c.default.getInstance().ErrorInfo(e),"ok"==t&&(h.default.GameNumber=h.default.GameNumber+1,r.default.getInstance().GiveUpThisRound())}),n.State=""))}),this.inputStr="",this.EditBox.getComponent(cc.EditBox).string=this.inputStr},e.prototype.Cancel=function(){s.default.getInstance().PlayAudio("Btn_Input"),this.node.parent.active=!1,n.State="",u.default.getInstance().ChangeCard=!1,(u.default.getInstance().InputPanel.active=!0)&&(u.default.getInstance().InputPanel.active=!1)},e.State="",n=i([p],e)}(cc.Component));n.default=g,cc._RF.pop()},{"..//Main":"Main","..//Setting":"Setting","../AudioManager":"AudioManager","../Cards":"Cards","../Core/Client":"Client","../Lib/GlobalDef":"GlobalDef","./ErrorCode":"ErrorCode"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"aa70cdroC9CxZnlA2NjEOUe","Main");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./AudioManager"),l=t("./Cards"),c=t("./Core/Client"),s=t("./Count"),d=t("./Info"),u=t("./Lib/GlobalDef"),h=t("./PopUp/ErrorCode"),f=t("./PopUp/KeyBoard"),p=t("./Setting"),g=cc._decorator,C=g.ccclass,y=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.InputPanel=null,e.OpenBtn=null,e.ClearBtn=null,e.newCard=null,e.testBtn=null,e.newCardPanel=null,e.TestPanel=null,e.TVBtn=null,e.InputStr="",e.CanShow=[!1,!1,!1,!1,!1,!1],e}var n;return o(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.start=function(){n.instance=this,this.OpenBtn=this.node.parent.getChildByName("Right").getChildByName("Open"),this.ClearBtn=this.node.parent.getChildByName("Right").getChildByName("Clear"),this.InputPanel=this.node.getChildByName("Input"),this.newCard=this.node.getChildByName("NewCard"),this.newCardPanel=this.node.parent.getChildByName("NewCardPanel"),this.TestPanel=this.node.parent.getChildByName("TestPanel"),this.testBtn=this.node.getChildByName("Test"),this.TVBtn=this.node.getChildByName("TV"),this.SendCard={ju_hao:0,xue_hao:"",color:0,point:0,memo:""},this.BtnEvent()},e.prototype.BtnEvent=function(){var t=this;this.ClearBtn.on("click",function(){t.Clear()}),this.TVBtn.on("click",function(){t.OpenTV()}),this.newCard.on("click",function(){r.default.getInstance().PlayAudio("Btn_Open"),t.newCardPanel.active=!0}),this.testBtn.on("click",function(){r.default.getInstance().PlayAudio("Btn_Open"),t.TestPanel.active=!0}),this.InputPanel.on("text-changed",function(){t.Enter()}),this.InputPanel.on("editing-did-began",function(){t.InputPanel.getChildByName("Color").active=!0,p.default.getInstance().Message="\u8acb\u6383\u63cf"}),this.InputPanel.on("editing-did-ended",function(){t.ClearTem(),t.InputPanel.getChildByName("Color").active=!1})},e.prototype.StartBtn=function(){r.default.getInstance().PlayAudio("Btn_Click"),this.newCard.active=!1,this.testBtn.active=!1,this.node.getChildByName("FakeNew").active=!0,this.node.getChildByName("FakeTest").active=!0,this.Open()},e.prototype.Open=function(){f.default.State="",n.CanReset=!1,s.default.getInstance().isFinish=!1,this.ClearBtn.active=!0,this.OpenBtn.active=!1,this.ClearBtn.getComponentInChildren(cc.Label).string="\u68c4\u5c40"},e.prototype.Send=function(t){var e,a;"S"==(e=t.slice(0,1))&&(e=1),"H"==e&&(e=2),"D"==e&&(e=3),"C"==e&&(e=4),"A"==(a=t.slice(1,2))&&(a=10),"B"==a&&(a=11),"C"==a&&(a=12),"D"==a&&(a=13),a=parseInt(a),this.SendCard.color=e,this.SendCard.point=a,this.SendCard.ju_hao=u.default.GameNumber,this.SendCard.xue_hao=u.default.MixNumber,l.default.CardsArr.length%2==0?this.SendCard.memo="Banker "+Math.round(l.default.CardsArr.length/2):this.SendCard.memo="Player "+Math.round(l.default.CardsArr.length/2),c.default.getInstance().send("livebaijiale","baijiadealer.ScanCardLog",this.SendCard,function(t,e){e?(h.default.getInstance().ErrorInfo(e),n.getInstance().CanShow[l.default.CardsArr.length-1]=!1,p.default.getInstance().ShowBtn.active=!1):(t.toString().includes("\u5361\u7247\u4e0d\u5408\u6cd5")?(n.getInstance().CanShow[l.default.CardsArr.length-1]=!1,p.default.getInstance().ShowBtn.active=!1):n.getInstance().CanShow[l.default.CardsArr.length-1]=!0,l.default.CardsArr.length>=4&&(5==l.default.CardsArr.length&&3==s.default.getInstance().temPlayer||p.default.getInstance().StopPeek()))})},e.prototype.Enter=function(){this.InputStr=this.InputPanel.getComponent(cc.EditBox).string,this.InputPanel.getChildByName("TEXT_LABEL").opacity=0;var t=this.InputStr.slice(this.InputStr.length-2);if(0==t.includes("\n")&&2==t.length){r.default.getInstance().PlayAudio("Btn_Scan"),l.default.CardsArr.length<6?l.default.CardsArr.push(t):r.default.getInstance().PlayAudio("Btn_Error");var e=l.default.CardsArr.length;l.default.getInstance().SmallCards[e-1].active=!0,s.default.getInstance().IsNormal=!0,s.default.getInstance().CheckBtn.active=!0,1==s.default.getInstance().isShow&&6==l.default.CardsArr.length&&(this.InputPanel.active=!1,this.InputPanel.getChildByName("Color").active=!1,this.node.getChildByName("FakeInput").active=!0),e>=4&&(0==s.default.getInstance().isShow&&(r.default.getInstance().PlayAudio("Btn_Error"),this.InputPanel.active=!1,this.InputPanel.getChildByName("Color").active=!1,this.node.getChildByName("FakeInput").active=!0),5==e&&3==s.default.getInstance().temPlayer||(5==e&&(this.InputPanel.active=!1,this.InputPanel.getChildByName("Color").active=!1,this.node.getChildByName("FakeInput").active=!0),s.default.getInstance().CheckBtn.active=!0)),this.Send(t)}},e.prototype.ClearTem=function(){this.InputPanel.getComponent(cc.EditBox).string=""},e.prototype.Clear=function(){if(r.default.getInstance().PlayAudio("Btn_Click"),0==n.CanReset)l.default.getInstance().ChangeCard=!1,r.default.getInstance().PlayAudio("Btn_Password"),this.node.parent.getChildByName("PassWord").active=!0,f.default.State="Clear";else{this.node.getChildByName("FakeNew").active=!0,this.node.getChildByName("FakeTest").active=!0,this.ClearBtn.getComponentInChildren(cc.Label).string="\u65b0\u5c40",this.testBtn.active=!1,this.newCard.active=!1,this.InputStr="",this.InputPanel.active=!1,this.InputPanel.getChildByName("Color").active=!1,this.InputPanel.parent.getChildByName("FakeInput").active=!0,this.InputPanel.getComponent(cc.EditBox).string="",this.InputPanel.getChildByName("Text").getComponent(cc.Label).string="\u6383\u63cf";for(var t=0;t<6;t++)this.CanShow[t]=!1,l.default.getInstance().SmallCards[t].getComponent(cc.Toggle).isChecked=!1,l.default.getInstance().SmallCards[t].getComponent(cc.Toggle).enabled=!0,l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).enabled=!1,l.default.getInstance().SmallCards[5].getComponent(cc.Toggle).enabled=!1,l.default.getInstance().LoadCard(t,"00"),l.default.getInstance().SmallCards[t].active=!1;for(l.default.CardsArr=[],p.default.getInstance().Reset(),s.default.getInstance().Reset(),s.default.getInstance().temPlayer=0,t=0;t<6;t++)s.default.getInstance().ResetSeat(t);c.default.getInstance().send("livebaijiale","baijiadealer.NextStage",p.default.TableID,function(t,e){e&&("\u592a\u983b\u7e41\u7684\u8acb\u6c42"==e?s.default.getInstance().ReSend():h.default.getInstance().ErrorInfo(e))}),n.getInstance().StartBtn(),l.default.getInstance().ChangeCard=!1,1==u.default.VipRoom?p.default.getInstance().StopBtn.active=!0:(p.default.getInstance().CountDown=30,p.default.getInstance().StartCountDown()),d.default.getInstance().Show()}},e.prototype.GiveUpThisRound=function(){r.default.getInstance().PlayAudio("Btn_Click"),this.node.getChildByName("FakeNew").active=!1,this.node.getChildByName("FakeTest").active=!1,this.ClearBtn.active=!1,this.testBtn.active=!0,this.newCard.active=!0,this.InputStr="",this.InputPanel.active=!1,this.InputPanel.getChildByName("Color").active=!1,this.InputPanel.parent.getChildByName("FakeInput").active=!0,this.InputPanel.getComponent(cc.EditBox).string="",this.InputPanel.getChildByName("Text").getComponent(cc.Label).string="\u6383\u63cf";for(var t=0;t<6;t++)this.CanShow[t]=!0,l.default.getInstance().SmallCards[t].getComponent(cc.Toggle).isChecked=!1,l.default.getInstance().SmallCards[t].getComponent(cc.Toggle).enabled=!0,l.default.getInstance().SmallCards[4].getComponent(cc.Toggle).enabled=!1,l.default.getInstance().SmallCards[5].getComponent(cc.Toggle).enabled=!1,l.default.getInstance().LoadCard(t,"00"),(l.default.getInstance().SmallCards[t].active=!0)&&(l.default.getInstance().SmallCards[t].active=!1);l.default.CardsArr=[],s.default.getInstance().temPlayer=0,s.default.getInstance().Reset(),p.default.getInstance().Reset(),p.default.getInstance().StartBtn.active=!0},e.prototype.OpenTV=function(){r.default.getInstance().PlayAudio("Btn_Open"),window.open(u.default.TVIP+"/?id="+u.default.id)},e.prototype.InProcess=function(){this.newCard.active=!1,this.testBtn.active=!1,this.OpenBtn.active=!1,this.ClearBtn.active=!0,this.node.getChildByName("FakeNew").active=!0,this.node.getChildByName("FakeTest").active=!0,this.ClearBtn.getComponentInChildren(cc.Label).string="\u68c4\u5c40"},e.CanReset=!1,n=i([C],e)}(cc.Component));n.default=y,cc._RF.pop()},{"./AudioManager":"AudioManager","./Cards":"Cards","./Core/Client":"Client","./Count":"Count","./Info":"Info","./Lib/GlobalDef":"GlobalDef","./PopUp/ErrorCode":"ErrorCode","./PopUp/KeyBoard":"KeyBoard","./Setting":"Setting"}],Math:[function(t,e,n){"use strict";cc._RF.push(e,"b3228qvLjpHLr1mdqLwaViu","Math"),Object.defineProperty(n,"__esModule",{value:!0}),n.getRandom=n.intOperation=n.thousandComma=void 0,n.thousandComma=function(t){var e,n=t.toString(),a=/(-?\d+)(\d{3})/,o=n.indexOf(".");e=o<0?n:n.slice(0,o);for(var i,r=n.slice(o,n.length);a.test(e);)e=e.replace(a,"$1,$2");return o<0?i=e:(i=e.concat(r),e=n.slice(0,o)),i},n.intOperation=function(t,e){var n=t.toString(),a=n.indexOf(".");return e>0&&(a>=0&&(n=n.slice(0,a+e+1)),n=Number(n).toFixed(e)),n},n.getRandom=function(t,e){return Math.floor(Math.random()*e)+t},cc._RF.pop()},{}],MsgHandlers:[function(t,e,n){"use strict";cc._RF.push(e,"2afbenvabtF3paZtmi/smhA","MsgHandlers"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("../PopUp/ErrorCode"),o=t("../Lib/GlobalDef"),i=t("./Client"),r=t("../Setting"),l=t("../Channel"),c=t("../AudioManager"),s=function(){function t(){}return t.prototype.ping=function(){i.default.getInstance().send("","pong",null,function(){})},t.prototype.login=function(t,e){if(""==e||null==e)for(var n in o.default.Nickname=t.nickname,o.default.id=t.id,o.default.group=t.group,r.default.getInstance().EnterTable(),t)i.default.getInstance().myinfo[n]=t[n];else a.default.getInstance().ErrorInfo(e,!0,!1)},t.prototype.logout=function(t){a.default.getInstance().ErrorInfo(t,!0,!1)},t.prototype.daShangTonZhi=function(t){t.dealer_nickname==o.default.Nickname&&(c.default.getInstance().PlayAudio("Coin"),l.default.getInstance().GetNewMessage(t))},t}();e.exports=s,cc._RF.pop()},{"../AudioManager":"AudioManager","../Channel":"Channel","../Lib/GlobalDef":"GlobalDef","../PopUp/ErrorCode":"ErrorCode","../Setting":"Setting","./Client":"Client"}],NewCard:[function(t,e,n){"use strict";cc._RF.push(e,"adaca9HSw9MJIjnkN1MXMDO","NewCard");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../AudioManager"),l=t("../Core/Client"),c=t("../Lib/GlobalDef"),s=t("./ErrorCode"),d=cc._decorator,u=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NewCard=null,e.ConfirmBtn=null,e.CloseBtn=null,e.FinishBtn=null,e.ScanPanel=null,e.FirstCard=null,e.NumStr=null,e.Input=null,e.Scan=null,e.DeleteCount=0,e.SpaceCount=0,e}return o(e,t),e.prototype.start=function(){this.ConfirmBtn=this.node.getChildByName("Confirm"),this.CloseBtn=this.node.getChildByName("Close"),this.Input=this.node.getChildByName("Input"),this.FirstCard=this.node.getChildByName("Card"),this.ScanPanel=this.node.getChildByName("Scan"),this.Scan=this.ScanPanel.getChildByName("Input"),this.NumStr=this.ScanPanel.getChildByName("Num"),this.FinishBtn=this.ScanPanel.getChildByName("Finish"),this.FinishBtn.active=!1,this.BtnEvent(),this.SendCard={ju_hao:0,xue_hao:"",color:0,point:0,memo:""}},e.prototype.BtnEvent=function(){var t=this;this.ConfirmBtn.on("click",function(){t.StartChange()}),this.CloseBtn.on("click",function(){r.default.getInstance().PlayAudio("Btn_Input"),t.node.active=!1}),this.FinishBtn.on("click",function(){t.Reset()}),this.Input.on("editing-did-began",function(){r.default.getInstance().PlayAudio("Btn_Click")}),this.Input.on("text-changed",function(){t.Enter()}),this.Scan.on("text-changed",function(){t.ScanDelete()}),this.Scan.on("editing-did-began",function(){r.default.getInstance().PlayAudio("Btn_Click"),t.ScanPanel.getChildByName("FakeFinish").active=!0,t.ScanPanel.getChildByName("Layout").opacity=255,t.ScanPanel.setPosition(0,0),t.Scan.getChildByName("Shine").active=!0,t.FirstCard.active=!1}),this.Scan.on("editing-did-ended",function(){t.Scan.getChildByName("Shine").active=!1})},e.prototype.Enter=function(){var t=this.Input.getComponent(cc.EditBox).string,e=t.slice(t.length-2);if(0==e.includes("\n")&&2==e.length){r.default.getInstance().PlayAudio("Btn_Scan"),this.LoadCard(e);var n=t.slice(t.length-1);n<10||(n=10),this.DeleteCount=n,this.ScanCount(),this.Input.active=!1,this.ScanPanel.setPosition(130,0),this.ScanPanel.active=!0,this.Send(e)}},e.prototype.Send=function(t){var e,n;"S"==(e=t.slice(0,1))&&(e=1),"H"==e&&(e=2),"D"==e&&(e=3),"C"==e&&(e=4),"A"==(n=t.slice(1,2))&&(n=10),"B"==n&&(n=11),"C"==n&&(n=12),"D"==n&&(n=13),n=parseInt(n),this.SendCard.color=e,this.SendCard.point=n,this.SendCard.memo="Delete",this.SendCard.ju_hao=c.default.GameNumber,this.SendCard.xue_hao=c.default.MixNumber,l.default.getInstance().send("livebaijiale","baijiadealer.ScanCardLog",this.SendCard,function(t,e){e&&s.default.getInstance().ErrorInfo(e)})},e.prototype.StartChange=function(){var t=this;r.default.getInstance().PlayAudio("Btn_Click");var e={room_id:c.default.TableNumber};l.default.getInstance().send("livebaijiale","baijiadealer.ChangeNewDeck",e,function(e,n){n?s.default.getInstance().ErrorInfo(n):(t.ConfirmBtn.active=!1,t.CloseBtn.active=!1,t.Input.active=!0,t.FirstCard.active=!0,c.default.GameNumber=1)})},e.prototype.ScanCount=function(){this.NumStr.getComponent(cc.Label).string=this.DeleteCount.toString();var t=this.ScanPanel.getChildByName("Layout"),e=[];if(this.SpaceCount=0,this.DeleteCount%5!=0){this.SpaceCount=5-this.DeleteCount%5;for(var n=0;n<this.SpaceCount;n++)e[n]=cc.instantiate(this.NewCard),e[n].getComponent(cc.Sprite).enabled=!1,t.addChild(e[n])}for(n=0;n<this.DeleteCount;n++){var a=cc.instantiate(this.NewCard);t.addChild(a)}},e.prototype.ScanDelete=function(){this.ScanPanel.getChildByName("FakeFinish").active=!0;var t=this.Scan.getComponent(cc.EditBox).string,e=t.slice(t.length-2),n=this.ScanPanel.getChildByName("Layout");0==e.includes("\n")&&2==e.length&&(r.default.getInstance().PlayAudio("Btn_Scan"),this.DeleteCount=this.DeleteCount-1,this.NumStr.getComponent(cc.Label).string=this.DeleteCount.toString(),n.children[this.DeleteCount+this.SpaceCount].getChildByName("ShowCard").active=!0,t=e,0==this.DeleteCount&&(this.ScanPanel.getChildByName("FakeScan").active=!0,this.ScanPanel.getChildByName("FakeFinish").active=!1,this.FinishBtn.active=!0,this.Scan.active=!1),this.Send(e))},e.prototype.Reset=function(){r.default.getInstance().PlayAudio("Btn_Open");for(var t=this.ScanPanel.getChildByName("Layout"),e=t.childrenCount-1;e>=0;e--)t.children[e].destroy();this.ScanPanel.getChildByName("Layout").opacity=0,this.ScanPanel.getChildByName("FakeFinish").active=!1,this.ConfirmBtn.active=!0,this.CloseBtn.active=!0,this.FinishBtn.active=!1,this.Scan.active=!0,this.ScanPanel.active=!1,this.node.active=!1,this.Input.getComponent(cc.EditBox).string="",this.Scan.getComponent(cc.EditBox).string="",this.LoadCard("00")},e.prototype.LoadCard=function(t){var e=this;return new Promise(function(){cc.assetManager.loadBundle("Art/Cards",function(n,a){a.load(t,cc.SpriteFrame,function(t,n){t?s.default.getInstance().ErrorInfo("\u7121\u6cd5\u8fa8\u8b58\u6b64QR code"):e.FirstCard.getComponent(cc.Sprite).spriteFrame=n})})})},i([h(cc.Prefab)],e.prototype,"NewCard",void 0),i([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../AudioManager":"AudioManager","../Core/Client":"Client","../Lib/GlobalDef":"GlobalDef","./ErrorCode":"ErrorCode"}],Setting:[function(t,e,n){"use strict";cc._RF.push(e,"9b405H02ldNZZLYhBTRNROB","Setting");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./AudioManager"),l=t("./Core/Client"),c=t("./Core/Util"),s=t("./Lib/GlobalDef"),d=t("./Count"),u=t("./Info"),h=t("./Main"),f=t("./PopUp/ErrorCode"),p=t("./Math"),g=cc._decorator,C=g.ccclass,y=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BackBtn=null,e.StartBtn=null,e.ShowBtn=null,e.StopBtn=null,e.TimeLeft=null,e.Marquee=null,e.CardCount=null,e.Message="",e.CountDown=30,e}var n;return o(e,t),n=e,e.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},e.prototype.onLoad=function(){n.instance=this,n.TableID={room_id:0}},e.prototype.start=function(){l.default.getInstance().login(),this.CardCount=this.node.getChildByName("CardCount").getChildByName("Text"),this.ShowBtn=this.node.parent.getChildByName("Middle").getChildByName("Show"),this.TimeLeft=this.node.getChildByName("TimeLeft").getChildByName("Text"),this.BackBtn=this.node.getChildByName("Back"),this.StartBtn=this.node.getChildByName("Open"),this.StopBtn=this.node.getChildByName("Stop"),this.Marquee=this.node.parent.getChildByName("BackGround").getChildByName("Marquee").getChildByName("Text"),this.Message="\u8acb\u958b\u5c40",n.postURL={state:"",url:""},window.addEventListener("message",function(t){s.default.token=t.data}),this.BtnEvent()},e.prototype.BtnEvent=function(){var t=this;this.BackBtn.on("click",function(){r.default.getInstance().PlayAudio("Btn_Open"),t.Jump("lobby_banker",function(t){n.postURL={state:"lobby_banker",url:t.data.url},l.default.getInstance().send("livebaijiale","baijiadealer.Leave",n.TableID,function(t,e){e?f.default.getInstance().ErrorInfo(e):parent.postMessage(n.postURL,"*")})})}),this.StartBtn.on("click",function(){l.default.getInstance().send("livebaijiale","baijiadealer.NextStage",n.TableID,function(t,e){e&&("\u592a\u983b\u7e41\u7684\u8acb\u6c42"==e?d.default.getInstance().ReSend():f.default.getInstance().ErrorInfo(e))}),h.default.getInstance().StartBtn(),1==s.default.VipRoom?t.StopBtn.active=!0:(t.CountDown=30,t.StartCountDown())}),this.StopBtn.on("click",function(){l.default.getInstance().send("livebaijiale","baijiadealer.NextStage",n.TableID,function(t,e){e&&("\u592a\u983b\u7e41\u7684\u8acb\u6c42"==e?d.default.getInstance().ReSend():f.default.getInstance().ErrorInfo(e))}),t.Stop()})},e.prototype.Reset=function(){r.default.getInstance().PlayAudio("Btn_Click"),this.Message="\u8acb\u958b\u5c40",this.StartBtn.active=!1,clearTimeout(this.timer),this.CountDown=30,this.TimeLeft.getComponent(cc.Label).string=this.CountDown.toString(),this.TimeLeft.color=cc.color(255,255,255),this.StopBtn.active=!1},e.prototype.StopPeek=function(){0==d.default.getInstance().isShow?1==h.default.getInstance().CanShow[0]&&1==h.default.getInstance().CanShow[1]&&1==h.default.getInstance().CanShow[2]&&1==h.default.getInstance().CanShow[3]&&(this.Message="\u8acb\u6309\u4e0b\u9a57\u724c\uff0c\u6216\u7f6e\u5165\u7d50\u679c(\u66f4\u6539\u932f\u8aa4)"):1==h.default.getInstance().CanShow[4]&&1==h.default.getInstance().CanShow[5]&&(this.Message="\u8acb\u66f4\u6539\u7f6e\u5165\u932f\u8aa4\u724c\u7684\u724c\u9762")},e.prototype.Stop=function(){clearTimeout(this.timer),this.Message="\u8acb\u62bd4\u5f35\u724c",r.default.getInstance().PlayAudio("Btn_Click"),h.default.getInstance().InputPanel.parent.getChildByName("FakeInput").active=!1,h.default.getInstance().InputPanel.active=!0,h.default.getInstance().InputPanel.getComponent(cc.EditBox).focus(),this.StopBtn.active=!1,this.CountDown=1},e.prototype.TimesUp=function(){r.default.getInstance().PlayBGSE("CountDownStop"),this.CountDown=0,this.TimeLeft.getComponent(cc.Label).string=this.CountDown.toString(),this.Stop()},e.prototype.StartCountDown=function(){this.Message="\u958b\u653e\u4e0b\u6ce8\u4e2d...",this.StartBtn.active=!1,this.ShowBtn.active=!1,this.CountDown>0?this.ShowCountDown():this.TimesUp()},e.prototype.ShowCountDown=function(){var t=this;this.TimeLeft.getComponent(cc.Label).string=this.CountDown.toString(),this.CountDown<=3?this.TimeLeft.color=cc.color(255,0,0):this.CountDown<=10?this.TimeLeft.color=cc.color(255,255,0):this.TimeLeft.color=cc.color(255,255,255),clearTimeout(this.timer),this.timer=setTimeout(function(){t.CountDown>0?(t.CountDown=t.CountDown-1,r.default.getInstance().PlayBGSE("CountDown"),t.ShowCountDown()):t.CountDown=0},1e3)},e.prototype.EnterTable=function(){var t=this;this.node.getChildByName("Channel").getChildByName("Info").getChildByName("Text").getComponent(cc.Label).string="\u5df2\u9032\u5165\u684c\u865f : "+s.default.TableNumber,n.TableID={room_id:s.default.TableNumber},l.default.getInstance().send("livebaijiale","baijiadealer.ApplyDealer",n.TableID,function(e,n){if(n)f.default.getInstance().ErrorInfo(n,!1,!0);else{s.default.GameNumber=e.ju_count,s.default.DeckNumber=e.paixuehao,s.default.MixNumber=e.juhao_mix,s.default.VipRoom=e.type,1==s.default.VipRoom&&(t.node.getChildByName("FakeStop").active=!0,t.node.getChildByName("TimeLeft").active=!1);for(var a=0;a<6;a++)if(null!=e.seats.settle_player_bets[a]){var o=d.default.getInstance().PlayerSeat[a],i=e.seats.settle_player_bets[a];o.active=!0,d.default.getInstance().PlayerID[a]=i.id,o.getChildByName("ID").getComponent(cc.Label).string=i.nickname,o.getChildByName("Money").getComponent(cc.Label).string=p.thousandComma(i.gold/1e4),o.getChildByName("BetPlayer").active=i.player_bets[2],o.getChildByName("BetBanker").active=i.player_bets[3],o.getChildByName("BetPlayer").getChildByName("BetMoney").getComponent(cc.Label).string=(i.player_bets[2]/1e4).toString(),o.getChildByName("BetBanker").getChildByName("BetMoney").getComponent(cc.Label).string=(i.player_bets[3]/1e4).toString(),e.seats.max_xian_index==a?o.getChildByName("BetPlayerBtn").active=!0:o.getChildByName("BetPlayerBtn").active=!1,e.seats.max_zhuang_index==a?o.getChildByName("BetBankerBtn").active=!0:o.getChildByName("BetBankerBtn").active=!1}u.default.getInstance().Show()}})},e.prototype.update=function(){this.Marquee.getComponent(cc.Label).string=this.Message},e.prototype.Jump=function(t,e){var n=this;parent.postMessage("retoken","*"),setTimeout(function(){n.GetUrl(s.default.loginServer+"/game_router/jump",t,e)},500)},e.prototype.GetUrl=function(t,e,n){c.Util.httpRequest({url:t,method:"POST",params:{destination:e,token:s.default.token},ok:function(t){var e=JSON.parse(t);n&&n(e),e.Err},error:function(t){f.default.getInstance().ErrorInfo(t)}})},e.TableID=null,n=i([C],e)}(cc.Component));n.default=y,cc._RF.pop()},{"./AudioManager":"AudioManager","./Core/Client":"Client","./Core/Util":"Util","./Count":"Count","./Info":"Info","./Lib/GlobalDef":"GlobalDef","./Main":"Main","./Math":"Math","./PopUp/ErrorCode":"ErrorCode"}],TestBtn:[function(t,e,n){"use strict";cc._RF.push(e,"b88e0cw8MNKOakXefSfuXkx","TestBtn");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../AudioManager"),l=t("../Core/Client"),c=t("../Lib/GlobalDef"),s=t("./ErrorCode"),d=cc._decorator,u=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.InputStr="",e.InputPanel=null,e.Card=null,e.CloseBtn=null,e}return o(e,t),e.prototype.start=function(){var t=this;this.InputPanel=this.node.getChildByName("Input"),this.Card=this.node.getChildByName("Card"),this.CloseBtn=this.node.getChildByName("Close"),this.InputPanel.on("text-changed",function(){t.Enter()}),this.InputPanel.on("editing-did-began",function(){r.default.getInstance().PlayAudio("Btn_Click")}),this.CloseBtn.on("click",function(){t.Close()}),this.SendCard={ju_hao:0,xue_hao:"",color:0,point:0,memo:"",test:!1}},e.prototype.Enter=function(){this.InputStr=this.InputPanel.getComponent(cc.EditBox).string;var t=this.InputStr.slice(this.InputStr.length-2);0==t.includes("\n")&&2==t.length&&(this.LoadCard(t),this.Send(t))},e.prototype.Send=function(t){var e,n;"S"==(e=t.slice(0,1))&&(e=1),"H"==e&&(e=2),"D"==e&&(e=3),"C"==e&&(e=4),"A"==(n=t.slice(1,2))&&(n=10),"B"==n&&(n=11),"C"==n&&(n=12),"D"==n&&(n=13),n=parseInt(n),this.SendCard.color=e,this.SendCard.point=n,this.SendCard.ju_hao=c.default.GameNumber,this.SendCard.xue_hao=c.default.MixNumber,this.SendCard.test=!0,l.default.getInstance().send("livebaijiale","baijiadealer.ScanCardLog",this.SendCard,function(t,e){e&&s.default.getInstance().ErrorInfo(e)})},e.prototype.Close=function(){r.default.getInstance().PlayAudio("Btn_Input"),this.InputStr="",this.LoadCard("00"),this.node.active=!1},e.prototype.LoadCard=function(t){var e=this;return new Promise(function(){cc.assetManager.loadBundle("Art/Cards",function(n,a){a.load(t,cc.SpriteFrame,function(t,n){t?s.default.getInstance().ErrorInfo("\u7121\u6cd5\u8fa8\u8b58\u6b64QR code"):e.Card.getComponent(cc.Sprite).spriteFrame=n})})})},i([u],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../AudioManager":"AudioManager","../Core/Client":"Client","../Lib/GlobalDef":"GlobalDef","./ErrorCode":"ErrorCode"}],Util:[function(t,e,n){"use strict";cc._RF.push(e,"ab430sX4rZJtoTYkIo+lhze","Util"),Object.defineProperty(n,"__esModule",{value:!0}),n.Util=void 0;var a=t("../PopUp/ErrorCode");n.Util={httpRequest:function(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState)if(e.status>=200&&e.status<400){if(t.ok)try{t.ok(e.responseText)}catch(o){console.log(o)}}else if(t.error){t.error(e.status,e.statusText);var n=JSON.parse(e.response);a.default.getInstance().ErrorInfo(n.msg,!0,!1)}},console.log(t.method+": ",t.url,JSON.stringify(t.params)),e.timeout=5e3,e.ontimeout=function(){t.error&&t.error("\u7db2\u8def\u9023\u63a5\u932f\u8aa4")},e.onerror=function(){t.error&&t.error("\u7db2\u8def\u9023\u63a5\u932f\u8aa4")},e.open(t.method,encodeURI(t.url),!0),"POST"==t.method&&e.setRequestHeader("Content-Type","application/json"),t.params&&"POST"==t.method?e.send(JSON.stringify(t.params)):e.send()}},cc._RF.pop()},{"../PopUp/ErrorCode":"ErrorCode"}],livebaijiale:[function(t,e,n){"use strict";cc._RF.push(e,"c85a69V1oFCqLphqyIsDX9R","livebaijiale"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Cards"),o=t("../Count"),i=t("../Info"),r=t("../Lib/GlobalDef"),l=t("../Main"),c=t("../Math"),s=t("../PopUp/ErrorCode"),d=t("../Setting"),u=function(){function t(){}return t.prototype.restStage=function(t){r.default.GameNumber=t.juhao,r.default.DeckNumber=t.paixuehao,r.default.MixNumber=t.juhao_mix,i.default.getInstance().Show()},t.prototype.restStageCD=function(t){r.default.GameNumber=t.juhao,r.default.DeckNumber=t.paixuehao,i.default.getInstance().Show()},t.prototype.betStageCD=function(t){"\u5207\u63db\u5230\u958b\u724c\u968e\u6bb5"==t.msg&&d.default.getInstance().TimesUp()},t.prototype.bettingChipStatus=function(t){l.default.getInstance().StartBtn(),l.default.getInstance().InProcess();for(var e=0;e<6;e++)cc.find("Middle").getChildByName("Top").children[e].getChildByName("Bet").getComponent(cc.Label).string=c.thousandComma(t.room_chips[e]/1e4);1==r.default.VipRoom?(d.default.getInstance().StopBtn.active=!0,d.default.getInstance().Message="\u8acb\u505c\u6b62\u4e0b\u6ce8"):(t.cd>0?d.default.getInstance().CountDown=t.cd:d.default.getInstance().CountDown=0,d.default.getInstance().StartCountDown())},t.prototype.playerBet=function(t){for(var e=0;e<6;e++)cc.find("Middle").getChildByName("Top").children[e].getChildByName("Bet").getComponent(cc.Label).string=c.thousandComma(t.room_chips[e]/1e4)},t.prototype.seatBets=function(t){for(var e=0;e<6;e++){var n=o.default.getInstance().PlayerSeat[e];if(null!=t.settle_player_bets[e]){var a=t.settle_player_bets[e];n.active=!0,o.default.getInstance().PlayerID[e]=a.id,n.getChildByName("ID").getComponent(cc.Label).string=a.nickname,n.getChildByName("Money").getComponent(cc.Label).string=c.thousandComma(a.gold/1e4),n.getChildByName("BetPlayer").active=a.player_bets[2],n.getChildByName("BetBanker").active=a.player_bets[3],n.getChildByName("BetPlayer").getChildByName("BetMoney").getComponent(cc.Label).string=(a.player_bets[2]/1e4).toString(),n.getChildByName("BetBanker").getChildByName("BetMoney").getComponent(cc.Label).string=(a.player_bets[3]/1e4).toString(),t.max_xian_index==e?n.getChildByName("BetPlayerBtn").active=!0:n.getChildByName("BetPlayerBtn").active=!1,t.max_zhuang_index==e?n.getChildByName("BetBankerBtn").active=!0:n.getChildByName("BetBankerBtn").active=!1}else n.active=!1,o.default.getInstance().ResetSeat(e,!1)}},t.prototype.stageChange=function(t){null!=t.msg&&""!=t.msg&&(d.default.getInstance().Message=t.msg)},t.prototype.scanningCardStatus=function(t){if(0!=t.xian_cards.length){for(var e=void 0,n=void 0,i=0;i<6;i++)if(4==i&&3!=t.xian_cards.length||5==i&&3!=t.zhuang_cards.length)o.default.getInstance().isShow=!0;else{a.default.getInstance().SmallCards[i].active=!0;var r=(e=i%2==0?t.xian_cards[Math.floor(i/2)]:t.zhuang_cards[Math.floor(i/2)]).color,c=e.point;1==r&&(r="S"),2==r&&(r="H"),3==r&&(r="D"),4==r&&(r="C"),10==c&&(c="A"),11==c&&(c="B"),12==c&&(c="C"),13==c&&(c="D"),n=r+c,o.default.getInstance().IsNormal=!1,a.default.CardsArr[i]=n,a.default.getInstance().LoadCard(i,n)}"\u88dc\u9592\u88dc\u838a"==t.bu_pai_name&&(o.default.getInstance().SendCard=4,o.default.getInstance().temPlayer=3,l.default.getInstance().CanShow[4]=!1,l.default.getInstance().CanShow[5]=!1,o.default.getInstance().plusStr="\u88dc\u5169\u5f35\uff0c\u8acb\u6309\u4e0b\u6383\u63cf"),"\u9592\u88dc"==t.bu_pai_name&&(o.default.getInstance().SendCard=4,o.default.getInstance().temPlayer=1,l.default.getInstance().CanShow[4]=!1,l.default.getInstance().CanShow[5]=!0,o.default.getInstance().plusStr="\u9591\u5bb6\u88dc\u4e00\u5f35\uff0c\u8acb\u6309\u4e0b\u6383\u63cf"),"\u838a\u88dc"==t.bu_pai_name&&(o.default.getInstance().SendCard=5,o.default.getInstance().temPlayer=2,l.default.getInstance().CanShow[4]=!0,l.default.getInstance().CanShow[5]=!1,o.default.getInstance().plusStr="\u5e84\u5bb6\u88dc\u4e00\u5f35\uff0c\u8acb\u6309\u4e0b\u6383\u63cf"),d.default.getInstance().Message=o.default.getInstance().plusStr,o.default.getInstance().PlayerPoint=t.xian_total,o.default.getInstance().BankerPoint=t.zhuang_total,o.default.getInstance().isShow=!0,o.default.getInstance().Show(),l.default.getInstance().InProcess()}else l.default.getInstance().InProcess(),d.default.getInstance().TimesUp()},t.prototype.thisRoundReset=function(){d.default.getInstance().Message="\u8acb\u958b\u59cb\u65b0\u7684\u4e00\u5c40\uff0c\u6216\u66f4\u63db\u724c\u9774\u4e26\u71d2\u724c\u5b8c\u6210\u3002"},t.prototype.thisRoomClose=function(){s.default.getInstance().ErrorInfo("\u52a0\u5165\u7684\u623f\u95f4\u4e0d\u5b58\u5728",!1,!0)},t.prototype.settleStage=function(t){null!=t.msg&&""!=t.msg&&(d.default.getInstance().Message=t.msg),null!=t.win_area&&o.default.getInstance().ResultLight(t.win_area)},t}();e.exports=u,cc._RF.pop()},{"../Cards":"Cards","../Count":"Count","../Info":"Info","../Lib/GlobalDef":"GlobalDef","../Main":"Main","../Math":"Math","../PopUp/ErrorCode":"ErrorCode","../Setting":"Setting"}]},{},["AudioManager","Cards","Channel","Client","ConnectManager","MsgHandlers","Util","livebaijiale","Count","Info","GlobalDef","Main","Math","ChoseTable","ErrorCode","InputCard","KeyBoard","NewCard","TestBtn","Setting"]);